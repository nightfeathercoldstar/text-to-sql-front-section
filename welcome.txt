'use client'
import type { FC } from 'react'
import React from 'react'
import { useTranslation } from 'react-i18next'
import s from './style.module.css'
import type { AppInfo, PromptConfig } from '@/types/app'

export type IWelcomeProps = {
  conversationName: string
  hasSetInputs: boolean
  isPublicVersion: boolean
  siteInfo: AppInfo
  promptConfig: PromptConfig
  onStartChat: (inputs: Record<string, any>) => void
  canEditInputs: boolean
  savedInputs: Record<string, any>
  onInputsChange: (inputs: Record<string, any>) => void
}

const Welcome: FC<IWelcomeProps> = ({
  conversationName,
  hasSetInputs,
  isPublicVersion,
  siteInfo,
  promptConfig,
  onStartChat,
  canEditInputs,
  savedInputs,
  onInputsChange,
}) => {
  const { t } = useTranslation()

  const handleStartChat = () => {
    onStartChat(savedInputs)
  }

  return (
    <div className='mx-auto max-w-3xl px-4 sm:px-6 lg:px-8 pb-16'>
      <div className='mt-8 rounded-2xl bg-white p-4 shadow-sm sm:p-6 lg:p-8'>
        <div className={`${s.headerBg} p-6 rounded-t-xl mb-6`}>
          <h1 className='text-2xl font-bold text-white'>{siteInfo.title || '文本转SQL应用'}</h1>
          <p className='text-indigo-100 mt-2'>{siteInfo.description || '轻松将自然语言转换为SQL查询语句'}</p>
        </div>

        <div className='space-y-6'>
          <div className='bg-indigo-50 p-4 rounded-lg'>
            <h2 className='text-lg font-medium text-indigo-800 mb-2'>功能介绍</h2>
            <p className='text-gray-600'>
              本应用通过先进的AI技术，能够理解您的自然语言并将其转换为标准SQL查询语句，让数据分析变得更加简单。
            </p>
          </div>

          <div className='grid grid-cols-1 md:grid-cols-2 gap-4'>
            <div className='card'>
              <h3 className='text-lg font-medium text-gray-800 mb-2'>如何使用</h3>
              <ol className='list-decimal list-inside space-y-1 text-gray-600'>
                <li>点击"开始对话"按钮</li>
                <li>在对话框中描述您需要的数据查询</li>
                <li>AI助手会生成相应的SQL代码</li>
              </ol>
            </div>
            <div className='card'>
              <h3 className='text-lg font-medium text-gray-800 mb-2'>使用案例</h3>
              <ul className='list-disc list-inside space-y-1 text-gray-600'>
                <li>查询特定时间段的销售数据</li>
                <li>筛选满足特定条件的客户信息</li>
                <li>生成复杂的报表SQL语句</li>
              </ul>
            </div>
          </div>

          <div className='flex justify-center mt-8'>
            <button 
              onClick={handleStartChat}
              className='btn btn-primary px-6 py-3 text-lg'
            >
              开始对话
            </button>
          </div>
        </div>
      </div>
    </div>
  )
}

export default Welcome
